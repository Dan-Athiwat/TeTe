<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>USB Phone Mirror UI</title>
    <style>
        body {
            background-color: #f0f2f5;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        /* ‡∏Å‡∏£‡∏≠‡∏ö‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå */
        .phone-frame {
            width: 300px;
            height: 600px;
            background-color: #333;
            border-radius: 40px;
            padding: 15px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
            border: 4px solid #dcdcdc;
            position: relative;
            transition: all 0.3s ease;
        }

        /* ‡∏™‡πà‡∏ß‡∏ô Notch/‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏´‡∏ô‡πâ‡∏≤ */
        .notch {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 25px;
            background-color: #000;
            border-bottom-left-radius: 15px;
            border-bottom-right-radius: 15px;
            z-index: 10;
        }

        /* ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ */
        .screen {
            width: 100%;
            height: 100%;
            border-radius: 30px;
            overflow: hidden;
            position: relative;
            transition: opacity 1s ease;
        }

        /* ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏™‡∏µ‡∏¢‡∏ö‡∏™‡∏≤‡∏¢ (‡∏à‡∏≠‡∏î‡∏≥) */
        .screen-off {
            background-color: #000;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .screen-off::after {
            content: "No Signal";
            color: #333;
            font-size: 14px;
        }

        /* ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ‡πÄ‡∏™‡∏µ‡∏¢‡∏ö‡∏™‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß (‡πÇ‡∏ä‡∏ß‡πå‡∏†‡∏≤‡∏û‡∏à‡∏≥‡∏•‡∏≠‡∏á) */
        .screen-on {
            /* ‡πÉ‡∏™‡πà‡∏£‡∏π‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ ‡∏´‡∏£‡∏∑‡∏≠ Wallpaper ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà */
            background: url('https://images.unsplash.com/photo-1616077168712-fc6c738ae82e?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80') center/cover no-repeat;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            align-items: center;
            padding-bottom: 20px;
        }

        /* ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ö‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ */
        .status-text {
            color: white;
            text-shadow: 0 2px 4px rgba(0,0,0,0.8);
            margin-bottom: 40px;
            font-weight: bold;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s ease;
        }
        
        .screen-on .status-text {
            opacity: 1;
            transform: translateY(0);
        }

        /* ‡∏õ‡∏∏‡πà‡∏°‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° */
        .controls {
            margin-top: 30px;
            text-align: center;
        }

        button {
            padding: 12px 24px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            transition: background 0.2s;
        }

        button:hover {
            background-color: #0056b3;
        }

        button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }

        .info {
            margin-top: 10px;
            font-size: 12px;
            color: #666;
        }
    </style>
</head>
<body>

    <div class="phone-frame">
        <div class="notch"></div>
        <div id="phoneScreen" class="screen screen-off">
            <div class="status-text" id="deviceName">Connected</div>
        </div>
    </div>

    <div class="controls">
        <h3>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: <span id="usbStatus" style="color: red;">‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠</span></h3>
        <button id="connectBtn">üîå ‡πÄ‡∏™‡∏µ‡∏¢‡∏ö‡∏™‡∏≤‡∏¢ USB (‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠)</button>
        <p class="info">*‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ Chrome/Edge ‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏¥‡∏î‡∏ú‡πà‡∏≤‡∏ô HTTPS ‡∏´‡∏£‡∏∑‡∏≠ Localhost</p>
    </div>

    <script>
        const connectBtn = document.getElementById('connectBtn');
        const phoneScreen = document.getElementById('phoneScreen');
        const usbStatus = document.getElementById('usbStatus');
        const deviceNameLabel = document.getElementById('deviceName');

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠
        connectBtn.addEventListener('click', async () => {
            // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Browser ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö WebUSB ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
            if ("usb" in navigator) {
                try {
                    // ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å WebUSB Picker ‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤ (‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå)
                    // filters: [] ‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á‡πÉ‡∏´‡πâ‡πÅ‡∏™‡∏î‡∏á‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå USB ‡∏ó‡∏∏‡∏Å‡∏ï‡∏±‡∏ß
                    const device = await navigator.usb.requestDevice({ filters: [] });
                    
                    // ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
                    await device.open(); // ‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠
                    
                    // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï UI
                    updateUIConnected(device);

                    console.log("Connected to:", device.productName);
                    console.log(device);

                } catch (error) {
                    console.log("Error or Cancelled:", error);
                    alert("‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß ‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏î‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å");
                }
            } else {
                alert("Browser ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö WebUSB (‡∏•‡∏≠‡∏á‡πÉ‡∏ä‡πâ Chrome ‡∏´‡∏£‡∏∑‡∏≠ Edge)");
            }
        });

        function updateUIConnected(device) {
            // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
            usbStatus.textContent = "‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÅ‡∏•‡πâ‡∏ß ‚úÖ";
            usbStatus.style.color = "green";
            
            // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ö‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠
            deviceNameLabel.textContent = `Connected: ${device.productName || "Unknown Device"}`;

            // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏à‡∏≤‡∏Å ‡∏î‡∏≥ -> ‡∏™‡∏ß‡πà‡∏≤‡∏á (‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô Class)
            phoneScreen.classList.remove('screen-off');
            phoneScreen.classList.add('screen-on');

            // ‡∏ã‡πà‡∏≠‡∏ô‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠
            connectBtn.disabled = true;
            connectBtn.textContent = "‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏≠‡∏¢‡∏π‡πà";
        }

        // ‡πÄ‡∏™‡∏£‡∏¥‡∏°: Event Listener ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ñ‡∏≠‡∏î‡∏™‡∏≤‡∏¢ (‡∏≠‡∏≤‡∏à‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÉ‡∏ô‡∏ó‡∏∏‡∏Å‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏´‡∏≤‡∏Å‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ claim interface)
        navigator.usb.addEventListener('disconnect', event => {
            console.log("Device disconnected");
            // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏µ‡∏î‡∏≥
            phoneScreen.classList.remove('screen-on');
            phoneScreen.classList.add('screen-off');
            usbStatus.textContent = "‡∏™‡∏≤‡∏¢‡∏´‡∏•‡∏∏‡∏î/‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ ‚ùå";
            usbStatus.style.color = "red";
            connectBtn.disabled = false;
            connectBtn.textContent = "üîå ‡πÄ‡∏™‡∏µ‡∏¢‡∏ö‡∏™‡∏≤‡∏¢ USB (‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠)";
        });

    </script>
</body>
</html>